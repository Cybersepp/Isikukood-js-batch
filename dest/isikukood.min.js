// isikukood.js, https://github.com/dknight/Isikukood-js
var ik=(()=>{var a=Object.defineProperty,c=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,E=Object.prototype.hasOwnProperty,g=(n,t)=>{for(var e in t)a(n,e,{get:t[e],enumerable:!0})},d=(n,t,e,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of u(t))!E.call(n,r)&&r!==e&&a(n,r,{get:()=>t[r],enumerable:!(o=c(t,r))||o.enumerable});return n},f=n=>d(a({},"__esModule",{value:!0}),n),h={};g(h,{Isikukood:()=>b});class b{constructor(t){this.code=t}get code(){return this._code}set code(t){this._code=String(t)}static get GENDER(){return{MALE:"male",FEMALE:"female",UNKNOWN:"unknown"}}getControlNumber(t){t||(t=this.code);const e=[1,2,3,4,5,6,7,8,9,1],o=[3,4,5,6,7,8,9,1,2,3];let r=0,s=0;for(let i=0;i<10;++i)s+=t.charAt(i)*e[i];if(r=s%11,s=0,r===10){for(let i=0;i<10;++i)s+=t.charAt(i)*o[i];r=s%11,r===10&&(r=0)}return r}validate(){if(this.code.charAt(0)==="0"||this.code.length!==11||this.getControlNumber()!==parseInt(this.code.charAt(10)))return!1;const e=Number(this.code.substring(1,3)),o=Number(this.code.substring(3,5)),r=Number(this.code.substring(5,7)),s=this.getBirthday();return e===s.getFullYear()%100&&s.getMonth()+1===o&&r===s.getDate()}getGender(){const t=this.code.charAt(0);let e="";switch(t){case"1":case"3":case"5":e=this.constructor.GENDER.MALE;break;case"2":case"4":case"6":e=this.constructor.GENDER.FEMALE;break;default:e=this.constructor.GENDER.UNKNOWN}return e}getAge(){return Math.floor((new Date().getTime()-this.getBirthday().getTime())/864e5/365.25)}getBirthday(){let t=parseInt(this.code.substring(1,3));const e=parseInt(this.code.substring(3,5).replace(/^0/,""))-1,o=this.code.substring(5,7).replace(/^0/,""),r=this.code.charAt(0);return r==="1"||r==="2"?t+=1800:r==="3"||r==="4"?t+=1900:r==="5"||r==="6"?t+=2e3:(r==="7"||r==="8")&&(t+=2100),new Date(t,e,o)}parse(t){return t||(t=this.code),{gender:this.getGender(),birthDay:this.getBirthday(),age:this.getAge()}}static generate(t={}){let e,o,r,s=t.gender||(Math.round(Math.random())===0?this.GENDER.MALE:this.GENDER.FEMALE),i="";const l=["00","01","02","22","27","37","42","47","49","52","57","60","65","70","95"];if(![this.GENDER.MALE,this.GENDER.FEMALE].includes(s))return"";if(t.birthYear?e=t.birthYear:e=Math.round(Math.random()*100+1900+(new Date().getFullYear()-2e3)),t.birthMonth?o=t.birthMonth:o=Math.floor(Math.random()*12)+1,t.birthDay)r=t.birthDay;else{var M=new Date(e,o,0).getDate();r=Math.floor(Math.random()*M)+1}if(s===this.GENDER.MALE&&e>=1800&&e<=1899)i+="1";else if(s===this.GENDER.FEMALE&&e>=1800&&e<=1899)i+="2";else if(s===this.GENDER.MALE&&e>=1900&&e<=1999)i+="3";else if(s===this.GENDER.FEMALE&&e>=1900&&e<=1999)i+="4";else if(s===this.GENDER.MALE&&e>=2e3&&e<=2099)i+="5";else if(s===this.GENDER.FEMALE&&e>=2e3&&e<=2099)i+="6";else if(s===this.GENDER.MALE&&e>=2100&&e<=2199)i+="7";else if(s===this.GENDER.FEMALE&&e>=2100&&e<=2199)i+="8";else return"";return i+=String(e).substring(2,4),i+=String(o).length===1?"0"+o:o,i+=String(r).length===1?"0"+r:r,i+=l[Math.floor(Math.random()*l.length)],i+=Math.floor(Math.random()*10),i+=this.prototype.getControlNumber(i),i}}return f(h)})();window.Isikukood=ik.Isikukood;
//# sourceMappingURL=isikukood.min.js.map
