// isikukood.js, https://github.com/dknight/Isikukood-js
var ik=(()=>{var n=Object.defineProperty,c=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,f=Object.prototype.hasOwnProperty,g=(s,e)=>{for(var t in e)n(s,t,{get:e[t],enumerable:!0})},d=(s,e,t,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of u(e))!f.call(s,r)&&r!==t&&n(s,r,{get:()=>e[r],enumerable:!(a=c(e,r))||a.enumerable});return s},b=s=>d(n({},"__esModule",{value:!0}),s),l={};g(l,{Isikukood:()=>m});class m{constructor(e){this.code=e}get code(){return this._code}set code(e){this._code=String(e)}getControlNumber(e){e||(e=this.code);const t=[1,2,3,4,5,6,7,8,9,1],a=[3,4,5,6,7,8,9,1,2,3];let r=0,i=0;for(let o=0;o<10;++o)i+=e.charAt(o)*t[o];if(r=i%11,i=0,r===10){for(let o=0;o<10;++o)i+=e.charAt(o)*a[o];r=i%11,r===10&&(r=0)}return r}validate(){if(this.code.charAt(0)==="0"||this.code.length!==11||this.getControlNumber()!==parseInt(this.code.charAt(10)))return!1;const t=Number(this.code.substring(1,3)),a=Number(this.code.substring(3,5)),r=Number(this.code.substring(5,7)),i=this.getBirthday();return t===i.getFullYear()%100&&i.getMonth()+1===a&&r===i.getDate()}getGender(){const e=this.code.charAt(0);let t="";switch(e){case"1":case"3":case"5":t="male";break;case"2":case"4":case"6":t="female";break;default:t="unknown"}return t}getAge(){return Math.floor((new Date().getTime()-this.getBirthday().getTime())/864e5/365.25)}getBirthday(){let e=parseInt(this.code.substring(1,3));const t=parseInt(this.code.substring(3,5).replace(/^0/,""))-1,a=this.code.substring(5,7).replace(/^0/,""),r=this.code.charAt(0);return r==="1"||r==="2"?e+=1800:r==="3"||r==="4"?e+=1900:r==="5"||r==="6"?e+=2e3:(r==="7"||r==="8")&&(e+=2100),new Date(e,t,a)}parse(e){return e||(e=this.code),{gender:this.getGender(),birthDay:this.getBirthday(),age:this.getAge()}}static generate(e={}){let t,a,r,i=e.gender||Math.round(Math.random())===0?"male":"female",o="";const h=["00","01","02","22","27","37","42","47","49","52","57","60","65","70","95"];if(!(i==="female"||i==="male"))return"";if(e.birthYear?t=e.birthYear:t=Math.round(Math.random()*100+1900+(new Date().getFullYear()-2e3)),e.birthMonth?a=e.birthMonth:a=Math.floor(Math.random()*12)+1,e.birthDay)r=e.birthDay;else{var p=new Date(t,a,0).getDate();r=Math.floor(Math.random()*p)+1}if(i==="male"&&t>=1800&&t<=1899)o+="1";else if(i==="female"&&t>=1800&&t<=1899)o+="2";else if(i==="male"&&t>=1900&&t<=1999)o+="3";else if(i==="female"&&t>=1900&&t<=1999)o+="4";else if(i==="male"&&t>=2e3&&t<=2099)o+="5";else if(i==="female"&&t>=2e3&&t<=2099)o+="6";else if(i==="male"&&t>=2100&&t<=2199)o+="7";else if(i==="female"&&t>=2100&&t<=2199)o+="8";else return"";return o+=String(t).substring(2,4),o+=String(a).length===1?"0"+a:a,o+=String(r).length===1?"0"+r:r,o+=h[Math.floor(Math.random()*h.length)],o+=Math.floor(Math.random()*10),o+=this.prototype.getControlNumber(o),o}}return b(l)})();window.Isikukood=ik.Isikukood;
//# sourceMappingURL=isikukood.min.js.map
